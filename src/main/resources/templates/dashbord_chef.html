<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tableau de bord – Chef de division</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:'Roboto',sans-serif;
      display:flex; min-height:100vh;
      background:#f0f2f5; color:#555;
    }
    /* Sidebar */
    .sidebar {
      width:250px; background:#fff;
      box-shadow:2px 0 5px rgba(0,0,0,0.1);
      display:flex; flex-direction:column; align-items:center;
      padding-top:30px;
      justify-content:space-between;
    }
    .sidebar .top-section {
      width:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
    }
    .sidebar .logo {
      width:120px; margin-bottom:40px;
    }
    .sidebar .nav-links {
      list-style:none; width:100%;
    }
    .sidebar .nav-links li a {
      display:block; padding:15px 25px;
      color:#333; text-decoration:none; font-weight:500;
      transition:background 0.3s; font-size:1rem;
    }
    .sidebar .nav-links li a.active,
    .sidebar .nav-links li a:hover {
      background:#f0f0f0;
    }
    .sidebar .bottom-section {
      width:100%;
      padding:20px;
    }
    .sidebar .logout {
      width:100%;
      padding:10px 0;
      background:#f28c1c; color:#fff;
      border:none; border-radius:5px;
      font-weight:700; cursor:pointer;
      transition:background 0.3s;
    }
    .sidebar .logout:hover {
      background:#e67300;
    }

    /* Main */
    .main {
      flex:1; margin-left:250px; padding:40px; overflow-y:auto;
      display:flex; flex-direction:column; align-items:flex-start;
    }

    .profile {
      display:flex; align-items:center; width:100%; max-width:800px;
      background:#fff; padding:20px; border-radius:10px;
      box-shadow:0 4px 10px rgba(0,0,0,0.05); margin-bottom:30px;
    }
    .profile img {
      width:60px; height:60px; border-radius:50%;
      margin-right:20px;
    }
    .profile .info h2 {
      font-size:1.4rem; color:#00539c; margin-bottom:4px;
    }
    .profile .info p {
      font-size:0.95rem; color:#333;
    }

    .main h1 {
      font-size:2rem; color:#00539c; margin-bottom:10px;
    }
    .main p.lead {
      font-size:1rem; margin-bottom:25px;
    }

    #linechart {
      width:100%; max-width:800px;
      background:#fff; border-radius:10px;
      box-shadow:0 4px 10px rgba(0,0,0,0.05);
      margin-bottom:30px;
      height:250px;
    }

    .cards {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
      gap:20px; width:100%; max-width:800px;
    }
    .card {
      background:#fff; border-radius:10px; padding:30px;
      box-shadow:0 4px 10px rgba(0,0,0,0.05);
      display:flex; flex-direction:column; justify-content:space-between;
      aspect-ratio:1/1; overflow:hidden;
    }
    .card h2 {
      color:#00539c; font-size:1.6rem; margin-bottom:15px;
      text-align:center;
    }
    .card p {
      flex:1; font-size:1rem; line-height:1.4;
      margin-bottom:20px; color:#555; overflow-y:auto;
    }
    .card a {
      display:block; text-align:center;
      padding:12px; background:#f28c1c; color:#fff;
      text-decoration:none; border-radius:5px;
      font-weight:700; transition:background .3s, transform .2s;
    }
    .card a:hover {
      background:#e67300; transform:translateY(-2px);
    }
  </style>
</head>
<body>

<aside class="sidebar">
  <div class="top-section">
    <img src="./logo.png" alt="Logo CID" class="logo" />
    <ul class="nav-links">
      <li><a href="/dashbord_chefl" class="active">Tableau de bord</a></li>
      <li><a href="/liste_archive_pole">Liste des archives du pôle</a></li>
    </ul>
  </div>
  <div class="bottom-section">
    <button class="logout">Déconnexion</button>
  </div>
</aside>

<main class="main">
  <div class="profile">
    <img src="./profil.jpg" alt="Avatar Chef" />
    <div class="info">
      <h2>Dr. Amal El Idrissi</h2>
      <p>Email : amal.elidrissi@cid.ma</p>
      <p>Division : Pôle informatique</p>
    </div>
  </div>

  <h1>Tableau de bord – Chef de division</h1>
  <p class="lead">
    Visualisez uniquement les archives de votre pôle via le graphe mensuel.
  </p>

  <div id="linechart"></div>

  <div class="cards">
    <div class="card">
      <h2>Liste des archives du pôle</h2>
      <p>
        Parcourez l’ensemble des archives de votre division, appliquez des filtres
        par mot-clé, date ou autres critères, et sélectionnez une fiche pour la
        modifier, la consulter ou l’imprimer.
      </p>
      <a href="/liste_archive_pole">Accéder</a>
    </div>
  </div>
</main>

<!-- JS librairies -->
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

<!-- Line chart script -->
<script>
  const lineOptions = {
    series:[{ name:'Archives pôle', data:[25,30,28,35,40,45,50,55,60,65,70,75] }],
    chart:{ height:250, type:'line', zoom:{enabled:false} },
    dataLabels:{ enabled:false },
    stroke:{ curve:'straight' },
    title:{ text:'Archives créées par mois', align:'left' },
    grid:{ row:{ colors:['#f3f3f3','transparent'], opacity:0.5 } },
    xaxis:{ categories:['Jan','Fév','Mar','Avr','Mai','Juin','Juil','Août','Sept','Oct','Nov','Déc'] }
  };
  new ApexCharts(document.querySelector('#linechart'), lineOptions).render();
</script>

<!-- Déconnexion Script -->
<script>
  document.querySelector('.logout').addEventListener('click', function () {
    // Si tu utilises localStorage/sessionStorage :
    // localStorage.clear();
    // sessionStorage.clear();
    window.location.href = '/login';
  });
</script>

</body>
</html>
